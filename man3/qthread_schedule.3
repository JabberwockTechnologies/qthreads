.TH qthread_schedule 3 "NOVEMBER 2006" libqthread "libqthread"
.SH NAME
\fBqthread_schedule\fR, \fBqthread_schedule_on\fR \- enqueue a prepared but unscheduled qthread to run
.SH SYNOPSIS
.B #include <qthread/qthread.h>

.I int
.br
\fBqthread_schedule\fR(qthread_t *\fIt\fR);
.PP
.I int
.br
\fBqthread_schedule_on\fR(qthread_t *\fIt\fR,
.ti +20n
const qthread_shepherd_id_t \fIshepherd\fR);
.SH DESCRIPTION
These are the companion functions to the \fBqthread_prepare\fR() functions. A
qthread_t that was generated by one of those functions is scheduled to be run
by one of these functions.
.PP
The \fBqthread_schedule_on\fR() function overrides the shepherd that the
qthread was originally prepared for.
.PP
Functionally, \fBqthread_fork\fR(\fIfunction\fR, \fIarg\fR) is equivalent to:
.RS
.PP
\fBqthread_schedule\fR(\fBqthread_prepare\fR(\fIfunction\fR, \fIarg\fR));
.RE
.SH RETURN VALUE
On success, the thread \fIt\fR is scheduled to run and 0 is returned. On error,
a non-zero error code is returned.
.SH ERRORS
.TP 12
ENOMEM
Not enough memory could be allocated for bookkeeping structures.
.SH "SEE ALSO"
.BR qthread_fork (3),
.BR qthread_fork_to (3),
.BR qthread_prepare (3),
.BR qthread_prepare_for (3),
.BR qthread_schedule (3),
.BR qthread_schedule_on (3)
